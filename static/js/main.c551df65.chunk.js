(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(21),c=n.n(i),s=(n(118),n.p,n(119),n(8)),u=n(31),o=n(12),p="QUERY",l="CLEAR_QUERY",d="CLEAR_QUERIES",h="UPDATE_SPIN",j="UPDATE_SNACK",f="SET_UNIT",m="SET_DATE",b="75f972b80e26f14fe6c920aa6a85ad57",O="Munich,de",v=function(e,t){return Object(o.a)(Object(o.a)({},e),t)},g={test:"test1"};var y={INFO:"Info",ERROR:"Error",SUCCESS:"Success"},x={snack:{type:y.INFO,open:!1,message:""},unit:"metric",date:void 0,spin:{spinning:!1,tip:null}};var w=Object(u.b)({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},g),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return v(e,Object(o.a)(Object(o.a)({},e),t.addition));case l:var n=v(e);return delete n[t.queryName],n;case d:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},x),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return v(e,{snack:v(e.snack,t.snack)});case h:return v(e,{spin:v(e.spin,t.spin)});case f:return v(e,{unit:t.value});case m:return v(e,{date:t.value});default:return e}}}),E=n(99);var S=n(275),_=n(276),P=n(274),k=n(9),T=n(100),N=n.n(T).a.create({headers:{"Content-Type":"application/json"}});var q="forecast",R=Object(k.a)({},q,"https://api.openweathermap.org/data/2.5/forecast"),C={spinning:!1,tip:null},I=function(e){return function(t){return new Promise((function(n,a){var r=e.requestName,i=e.saveToStore,c=e.requestParams,s=e.pathVars,u=e.callBackPrepare,o=e.spin,l=e.storeName,d=R[r];s&&s.forEach((function(e){return d=d+"/"+e})),o&&t({type:h,spin:o}),function(e,t){return N.get(e,{params:t})}(d,c).then((function(e){i&&t({type:p,addition:Object(k.a)({},l||r,u?u(e.data):e.data)}),o&&t({type:h,spin:C}),n(e)})).catch((function(e){D(e),o&&t({type:h,spin:C}),a(e)}))}))}},D=function(e){return function(t){e&&e.response&&e.response.data&&e.response.data.Message?t({type:j,snack:{type:y.ERROR,message:e.response.data.Message}}):t({type:j,snack:{type:y.ERROR,message:"Request failed"}})}},L=n(4),A=n(3),F=function e(t){Object(A.a)(this,e),this.requestName=t.requestName,this.saveToStore=!1!==t.saveToStore,this.data=t.data,this.requestParams=t.requestParams,this.pathVars=t.pathVars,this.callBackPrepare=t.callBackPrepare,this.spin=t.spin,this.queryType=t.queryType,this.storeName=t.storeName},B=function(){function e(t,n){Object(A.a)(this,e),this.requestName=t,this.queryType=n}return Object(L.a)(e,[{key:"withSaveToStore",value:function(e){return this.saveToStore=e,this}},{key:"withStoreName",value:function(e){return this.storeName=e,this}},{key:"withData",value:function(e){return this.data=e,this}},{key:"withRequestParams",value:function(e){return this.requestParams=e,this}},{key:"withPathVars",value:function(e){return this.pathVars=e,this}},{key:"withCallBackPrepare",value:function(e){return this.callBackPrepare=e,this}},{key:"withSpin",value:function(e){return this.spin=e,this}},{key:"build",value:function(){return new F(this)}}]),e}(),U={POST:"post",GET:"get"},V=function(e){var t=[];return e.list.forEach((function(e){var n=t.find((function(t){return t.date==new Date(1e3*e.dt).toLocaleDateString()}));if(void 0==n){var a={date:new Date(1e3*e.dt).toLocaleDateString(),temp_min:e.main.temp_min,temp_max:e.main.temp_max,avg_temp:e.main.temp,hourly:[Object(o.a)(Object(o.a)({},e.main),{},{dt:e.dt})]};t.push(a)}else n.temp_min>e.main.temp_min&&(n.temp_min=e.main.temp_min),n.temp_max<e.main.temp_max&&(n.temp_max=e.main.temp_max),n.avg_temp+=e.main.temp,n.hourly.push(Object(o.a)(Object(o.a)({},e.main),{},{dt:e.dt}))})),t.forEach((function(e){e.avg_temp=(e.avg_temp/e.hourly.length).toFixed(2)})),t},G=n(5),M=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.ui.unit}),s.b);return Object(a.useEffect)((function(){var n=new B(q,U.GET).withRequestParams({APPID:b,cnt:40,q:O,units:t}).withCallBackPrepare(V).withSpin({spinning:!0,tip:"Loading"}).build();e(I(n))}),[t]),Object(G.jsxs)(S.a,{style:{justifyContent:"space-around",margin:"20px 0px 20px 0px"},row:!0,"aria-label":"unit",name:"unit",value:t,onChange:function(t){var n;e((n=t.target.value,function(e){return e({type:f,value:n}),Promise.resolve()}))},children:[Object(G.jsx)(_.a,{value:"metric",control:Object(G.jsx)(P.a,{color:"primary"}),label:"Celciues"}),Object(G.jsx)(_.a,{value:"imperial",control:Object(G.jsx)(P.a,{color:"primary"}),label:"Fahrenheit"})]})},z=n(270),Q=n(20),J=function(){Object(s.c)(),Object(s.d)((function(e){return e.ui.unit}),s.b);return Object(G.jsx)(Q.Fragment,{children:Object(G.jsxs)("ul",{className:"ulIconGruop",children:[Object(G.jsx)(z.a,{className:"rotate180 prevNextIcon"}),Object(G.jsx)(z.a,{className:"prevNextIcon"})]})})},W=n(277),X=n(271),Y=function(e){var t=Object(s.c)(),n=(Object(s.d)((function(e){return e.ui.unit}),s.b),e.weatherInfo);return Object(G.jsx)(Q.Fragment,{children:Object(G.jsx)(W.a,{variant:"outlined",onClick:function(){return t((e=n.date,function(t){return t({type:m,value:e})}));var e},children:Object(G.jsxs)(X.a,{children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{style:{fontWeight:600,fontSize:22},children:n.temp_max}),"/"+n.temp_min]}),Object(G.jsx)("div",{children:"Temp: "+n.avg_temp}),Object(G.jsx)("div",{children:"Date: "+n.date})]})})})},K=n(28),H=n(273),Z=n(272);var $=function(){var e=Object(a.useState)(void 0),t=Object(K.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},ee=Object(Z.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),te=function(){var e=Object(a.useState)(void 0),t=Object(K.a)(e,2),n=t[0],r=t[1],i=Object(s.c)(),c=Object(s.d)((function(e){return e.ui.unit}),s.b),u=Object(s.d)((function(e){return e.query[q]}),s.b),o=(ee(),$());return Object(a.useEffect)((function(){var e=new B(q,U.GET).withRequestParams({APPID:b,cnt:40,q:O,units:c}).withCallBackPrepare(V).withSpin({spinning:!0,tip:"Loading"}).build();i(I(e))}),[]),Object(a.useEffect)((function(){console.log(o),r(o<600?1:o<960?2:o<1280?3:o<1920?4:6)}),[o]),Object(G.jsx)(H.a,{container:!0,spacing:0,style:{padding:10,width:"100%"},children:u&&u.slice(0,n).map((function(e){return Object(G.jsx)(H.a,{style:{padding:10,cursor:"pointer"},item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(G.jsx)(Y,{weatherInfo:e})})}))})},ne=n(107),ae=(Object(Z.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),function(){Object(s.d)((function(e){return e.ui.unit}),s.b);var e=Object(s.d)((function(e){return e.ui.date}),s.b),t=Object(s.d)((function(e){return e.query[q]}),s.b),n=t?t.find((function(t){return t.date==e})):void 0,a={labels:n?n.hourly.map((function(e){return new Date(1e3*e.dt).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})})):[],datasets:[{label:"# of Red Votes",data:n?n.hourly.map((function(e){return e.temp})):[],backgroundColor:"rgb(255, 99, 132)"}]};return Object(G.jsx)("div",{style:{padding:40},children:Object(G.jsx)(ne.a,{style:{margin:20},data:a,options:{scaleShowLabels:!1,scales:{xAxes:[{display:!1,ticks:{display:!1}}],yAxes:[{display:!1,ticks:{display:!1}}]}}})})}),re=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c;return Object(u.d)(w,e(Object(u.a)(E.a)))}();var ie=function(){return Object(G.jsxs)(s.a,{store:re,children:[Object(G.jsx)(M,{}),Object(G.jsx)(J,{}),Object(G.jsx)(te,{}),Object(G.jsx)(ae,{})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,279)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(ie,{})}),document.getElementById("root")),ce()}},[[248,1,2]]]);
//# sourceMappingURL=main.c551df65.chunk.js.map