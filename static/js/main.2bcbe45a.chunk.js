(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(20),c=n.n(i),s=(n(117),n.p,n(118),n(8)),u=n(31),o=n(13),l="QUERY",d="CLEAR_QUERY",p="CLEAR_QUERIES",j="UPDATE_SPIN",h="UPDATE_SNACK",m="SET_UNIT",f="SET_DATE",b="SET_CARD_FIRST_INDEX",O="75f972b80e26f14fe6c920aa6a85ad57",v="Munich,de",g=function(e,t){return Object(o.a)(Object(o.a)({},e),t)},y={test:"test1"};var x={INFO:"Info",ERROR:"Error",SUCCESS:"Success"},w={snack:{type:x.INFO,open:!1,message:""},unit:"metric",date:void 0,cardFirstIndex:0,spin:!1};var E=Object(u.b)({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},y),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return g(e,Object(o.a)(Object(o.a)({},e),t.addition));case d:var n=g(e);return delete n[t.queryName],n;case p:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},w),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return g(e,{snack:g(e.snack,t.snack)});case j:return g(e,{spin:t.spin});case m:return g(e,{unit:t.value});case f:return g(e,{date:t.value});case b:return g(e,{cardFirstIndex:t.value});default:return e}}}),_=n(100);var S=n(278),P=n(279),k=n(277),T=n(10),N=n(101),C=n.n(N).a.create({headers:{"Content-Type":"application/json"}});var q="forecast",R=Object(T.a)({},q,"https://api.openweathermap.org/data/2.5/forecast"),I=function(e){return function(t){return new Promise((function(n,a){var r=e.requestName,i=e.saveToStore,c=e.requestParams,s=e.pathVars,u=e.callBackPrepare,o=e.spin,d=e.storeName,p=R[r];s&&s.forEach((function(e){return p=p+"/"+e})),o&&t({type:j,spin:o}),function(e,t){return C.get(e,{params:t})}(p,c).then((function(e){i&&t({type:l,addition:Object(T.a)({},d||r,u?u(e.data):e.data)}),o&&t({type:j,spin:!1}),n(e)})).catch((function(e){D(e),o&&t({type:j,spin:!1}),a(e)}))}))}},D=function(e){return function(t){e&&e.response&&e.response.data&&e.response.data.Message?t({type:h,snack:{type:x.ERROR,message:e.response.data.Message}}):t({type:h,snack:{type:x.ERROR,message:"Request failed"}})}},F=n(5),L=n(3),A=function e(t){Object(L.a)(this,e),this.requestName=t.requestName,this.saveToStore=!1!==t.saveToStore,this.data=t.data,this.requestParams=t.requestParams,this.pathVars=t.pathVars,this.callBackPrepare=t.callBackPrepare,this.spin=t.spin,this.queryType=t.queryType,this.storeName=t.storeName},B=function(){function e(t,n){Object(L.a)(this,e),this.requestName=t,this.queryType=n}return Object(F.a)(e,[{key:"withSaveToStore",value:function(e){return this.saveToStore=e,this}},{key:"withStoreName",value:function(e){return this.storeName=e,this}},{key:"withData",value:function(e){return this.data=e,this}},{key:"withRequestParams",value:function(e){return this.requestParams=e,this}},{key:"withPathVars",value:function(e){return this.pathVars=e,this}},{key:"withCallBackPrepare",value:function(e){return this.callBackPrepare=e,this}},{key:"withSpin",value:function(){return this.spin=!0,this}},{key:"build",value:function(){return new A(this)}}]),e}(),U={POST:"post",GET:"get"},V=function(e){var t=[];return e.list.forEach((function(e){var n=t.find((function(t){return t.date==new Date(1e3*e.dt).toLocaleDateString()}));if(void 0==n){var a={date:new Date(1e3*e.dt).toLocaleDateString(),temp_min:e.main.temp_min,temp_max:e.main.temp_max,avg_temp:e.main.temp,hourly:[Object(o.a)(Object(o.a)({},e.main),{},{dt:e.dt})]};t.push(a)}else n.temp_min>e.main.temp_min&&(n.temp_min=e.main.temp_min),n.temp_max<e.main.temp_max&&(n.temp_max=e.main.temp_max),n.avg_temp+=e.main.temp,n.hourly.push(Object(o.a)(Object(o.a)({},e.main),{},{dt:e.dt}))})),t.forEach((function(e){e.avg_temp=(e.avg_temp/e.hourly.length).toFixed(2)})),console.log(t),t},M=n(4),G=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.ui.unit}),s.b);return Object(a.useEffect)((function(){var n=new B(q,U.GET).withRequestParams({APPID:O,cnt:40,q:v,units:t}).withCallBackPrepare(V).withSpin({spinning:!0,tip:"Loading"}).build();e(I(n))}),[t]),Object(M.jsxs)(S.a,{style:{justifyContent:"space-around",margin:"20px 0px 20px 0px"},row:!0,"aria-label":"unit",name:"unit",value:t,onChange:function(t){var n;e((n=t.target.value,function(e){return e({type:m,value:n}),Promise.resolve()}))},children:[Object(M.jsx)(P.a,{value:"metric",control:Object(M.jsx)(k.a,{color:"primary"}),label:"Celciues"}),Object(M.jsx)(P.a,{value:"imperial",control:Object(M.jsx)(k.a,{color:"primary"}),label:"Fahrenheit"})]})},z=n(280),Q=n(272),X=n(23),J=function(e){var t=Object(s.c)(),n=Object(s.d)((function(e){return e.ui.date}),s.b),a=e.weatherInfo;return Object(M.jsx)(X.Fragment,{children:Object(M.jsx)(z.a,{variant:"outlined",style:n==a.date?{cursor:"pointer",backgroundColor:"#efb59e"}:{cursor:"pointer"},onClick:function(){return t((e=a.date,function(t){return t({type:f,value:e})}));var e},children:Object(M.jsxs)(Q.a,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{style:{fontWeight:600,fontSize:22},children:a.temp_max}),"/"+a.temp_min]}),Object(M.jsx)("div",{children:"Temp: "+a.avg_temp}),Object(M.jsx)("div",{children:"Date: "+a.date})]})})})},W=n(25),Y=n(274),H=n(273);var K=function(){var e=Object(a.useState)(void 0),t=Object(W.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},Z=function(){var e=Object(a.useState)(void 0),t=Object(W.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),c=Object(W.a)(i,2),u=c[0],o=c[1],l=Object(s.c)(),d=Object(s.d)((function(e){return e.ui.unit}),s.b),p=Object(s.d)((function(e){return e.query[q]}),s.b),j=K();return Object(a.useEffect)((function(){var e=new B(q,U.GET).withRequestParams({APPID:O,cnt:40,q:v,units:d}).withCallBackPrepare(V).withSpin().build();l(I(e))}),[]),Object(a.useEffect)((function(){console.log(j),r(j<600?1:j<960?2:j<1280?3:j<1920?4:6)}),[j]),Object(M.jsxs)(X.Fragment,{children:[p&&Object(M.jsxs)("ul",{className:"ulIconGruop",style:0==u?{justifyContent:"flex-end"}:{},children:[0!=u&&Object(M.jsx)(H.a,{className:"rotate180 prevNextIcon",onClick:function(){return o(u-1)}}),u+n<p.length&&Object(M.jsx)(H.a,{className:"prevNextIcon",onClick:function(){return o(u+1)}})]}),Object(M.jsx)(Y.a,{container:!0,spacing:0,style:{padding:10,width:"100%"},children:p&&p.slice(u,u+n).map((function(e){return Object(M.jsx)(Y.a,{style:{padding:10},item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(M.jsx)(J,{weatherInfo:e})})}))})]})},$=n(109),ee=function(){var e=Object(s.d)((function(e){return e.ui.date}),s.b),t=Object(s.d)((function(e){return e.query[q]}),s.b),n=t?t.find((function(t){return t.date==e})):void 0,a={labels:n?n.hourly.map((function(e){return new Date(1e3*e.dt).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})})):[],datasets:[{label:"Hourly Temperature - "+e,data:n?n.hourly.map((function(e){return e.temp})):[],backgroundColor:"#ff4800"}]};return Object(M.jsx)("div",{style:{padding:40},children:e?Object(M.jsx)($.a,{style:{margin:20},data:a}):Object(M.jsx)("div",{style:{textAlign:"center"},children:"Please select a date to see hourly temperature"})})},te=n(108),ne=n(276),ae=n(275),re=function(){var e=Object(s.d)((function(e){return e.ui.spin}),s.b);return Object(M.jsxs)(a.Fragment,{children:[e&&Object(M.jsxs)("div",{className:"spinLoading",children:[" ",Object(M.jsx)(ae.a,{title:"Loading"})]}),Object(M.jsx)(G,{}),Object(M.jsx)(Z,{}),Object(M.jsx)(ee,{})]})},ie=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c;return Object(u.d)(E,e(Object(u.a)(_.a)))}(),ce=Object(te.a)({palette:{primary:{main:"#ff4800"},secondary:{main:"#ff4800"}}});var se=function(){return Object(M.jsx)(s.a,{store:ie,children:Object(M.jsx)(ne.a,{theme:ce,children:Object(M.jsx)(re,{})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(se,{})}),document.getElementById("root")),ue()}},[[247,1,2]]]);
//# sourceMappingURL=main.2bcbe45a.chunk.js.map